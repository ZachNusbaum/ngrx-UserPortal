<div *ngIf="user$ | async as user; else loginForm">
  <p *ngIf="user">You are signed in. <a routerLink="/">home</a></p>
  <app-verify-email></app-verify-email>
</div>

<ng-template #loginForm>
  <h2>Login</h2>
  <form *ngIf="!user" (ngSubmit)="onSubmit()" #emailLogin>
    <div class="form-group">
      <label for="email">Email</label>
      <input type="text" name="email" class="form-control"
        [(ngModel)]="signIn.email" required>
    </div>

    <div class="form-group">
      <label for="password">Password</label>
      <input type="password" name="password" class="form-control"
      [(ngModel)]="signIn.password" required>
    </div>

    <div class="form-group">
      <input type="submit" value="Sign in" class="btn btn-primary">
    </div>
  </form>

  <app-password-reset></app-password-reset>
</ng-template>
